<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg
               inline-block" id="notice">
      <%= notice %>
    </p>
  <% end %>

  <div class="flex justify-between items-center pb-8">
    <h1 class="mx-auto text-lg font-bold text-4xl">Products</h1>
  </div>

  <div id="products" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    <% @products.each do |product| %>
      <article id="<%= dom_id product %>" class="bg-white rounded shadow-sm hover:shadow-md transition-shadow duration-150 overflow-hidden flex flex-col">
        <%= image_tag(product.image_url, class: 'w-full h-auto object-contain') %>

        <div class="mt-4 text-center md:text-left flex-1 px-3">
          <h2 class="text-xl font-bold mb-2"><%= product.title %></h2>
          <p class="text-sm text-gray-700 mb-2"><%= truncate(strip_tags(product.description), length: 220) %></p>
        </div>

        <div class="mt-4 px-3 flex flex-col md:flex-row items-center md:items-start space-y-2 md:space-y-0 md:space-x-4">
          <%= link_to 'Show', product, class: 'inline-block px-3 py-2 rounded bg-green-600 text-white hover:bg-green-700' %>
          <%= link_to 'Edit', edit_product_path(product), class: 'inline-block px-3 py-2 rounded bg-gray-100 text-gray-800 hover:bg-gray-200' %>
          <%= link_to 'Destroy', product, class: 'inline-block px-3 py-2 rounded bg-red-100 text-red-700 hover:bg-red-200', data: { turbo_method: :delete, turbo_confirm: 'Are you sure?' } %>
        </div>
      </article>
    <% end %>
  </div>

  <div class="mt-8">
    <%= link_to 'New product', new_product_path, class: "inline rounded-lg py-3 px-5 bg-green-600 text-white block font-medium" %>
  </div>
</div>